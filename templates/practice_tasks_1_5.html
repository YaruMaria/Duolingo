<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ{{ topic_number|default('1-5') }} - MathGym</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .practice-header {
            background: linear-gradient(135deg, #ff6b00, #ff3d00);
            color: white;
        }

        .task-card {
            border-left: 4px solid #ff6b00;
        }

        .task-card:hover {
            border-left-color: #ff3d00;
        }

        .practice-badge {
            background: #ff6b00;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <header class="header">
            <div class="profile-section">
                <div class="avatar">üë§</div>
                <div class="level-badge">–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ{{ topic_number|default('1-5') }}</div>
            </div>
            <button class="back-button" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
        </header>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥—É–ª—è -->
        <div class="module-header practice-header">
            <h1>–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ{{ topic_number|default('1-5') }}</h1>
            <div class="module-subtitle">{{ topic_title|default('–ì—Ä—É–ø–ø—ã –∑–∞–¥–∞—á –ø–æ —Ç–µ–∫—Å—Ç—É') }} - –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</div>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∂–∏–º–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
        <div class="info-section" style="padding: 0 20px 20px;">
            <div style="background: #ffe4d6; padding: 15px; border-radius: 12px; border-left: 4px solid #ff6b00;">
                <h4 style="color: #c2410c; margin-bottom: 8px;">üéØ –†–µ–∂–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∏</h4>
                <p style="color: #9a3412; font-size: 14px; margin: 0;">
                    –†–µ—à–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –≤ —Å–≤–æ–µ–º —Ç–µ–º–ø–µ. –ü–æ–ª—É—á–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è.
                </p>
            </div>
        </div>

        <!-- –°–µ—Ç–∫–∞ –∑–∞–¥–∞—á -->
        <div class="tasks-grid">
            {% for task in tasks %}
            <div class="task-card {% if task.completed %}completed{% endif %}"
                 onclick="openEmptyPracticeTask('{{ topic_number|default("1-5") }}', {{ task.id }})">
                <div class="task-number">{{ task.number }}</div>
                <div class="task-title">{{ task.title }}</div>
                <div class="task-description">
                    {{ task.images|length }} –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏
                </div>
                <div class="task-status">
                    {% if task.completed %}
                    <span class="completed-badge">‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ</span>
                    {% else %}
                    <span class="practice-badge">üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞</span>
                    {% endif %}
                    <span class="task-gems">+15 üíé</span>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="bottom-nav">
            <a href="/" class="nav-item">üè†</a>
            <a href="/practice_topics" class="nav-item active">üìö</a>
            <a href="#" class="nav-item">üë•</a>
            <a href="#" class="nav-item">üèÜ</a>
            <a href="#" class="nav-item">‚öôÔ∏è</a>
        </nav>
    </div>

    <script>
        function goBack() {
            window.location.href = '/practice_topics';
        }

        function openEmptyPracticeTask(taskNumber, taskId) {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏
            window.location.href = `/empty_practice_task/${taskNumber}/${taskId}`;
        }
    </script>
</body>
</html>